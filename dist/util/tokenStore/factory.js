"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _config = _interopRequireDefault(require("../../config"));
var _fileTokenStory = _interopRequireDefault(require("./fileTokenStory"));
var _mongodbTokenStory = _interopRequireDefault(require("./mongodbTokenStory"));
var _redisTokenStory = _interopRequireDefault(require("./redisTokenStory"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
class Factory {
  createTokenStory(client) {
    let myTokenStore;
    const type = _config.default.tokenStoreType;
    if (type === 'mongodb') {
      myTokenStore = new _mongodbTokenStory.default(client);
    } else if (type === 'redis') {
      myTokenStore = new _redisTokenStory.default(client);
    } else {
      myTokenStore = new _fileTokenStory.default(client);
    }
    return myTokenStore.tokenStore;
  }
}
var _default = exports.default = Factory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZmlsZVRva2VuU3RvcnkiLCJfbW9uZ29kYlRva2VuU3RvcnkiLCJfcmVkaXNUb2tlblN0b3J5IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiRmFjdG9yeSIsImNyZWF0ZVRva2VuU3RvcnkiLCJjbGllbnQiLCJteVRva2VuU3RvcmUiLCJ0eXBlIiwiY29uZmlnIiwidG9rZW5TdG9yZVR5cGUiLCJNb25nb2RiVG9rZW5TdG9yZSIsIlJlZGlzVG9rZW5TdG9yZSIsIkZpbGVUb2tlblN0b3JlIiwidG9rZW5TdG9yZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlsL3Rva2VuU3RvcmUvZmFjdG9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZyc7XG5pbXBvcnQgRmlsZVRva2VuU3RvcmUgZnJvbSAnLi9maWxlVG9rZW5TdG9yeSc7XG5pbXBvcnQgTW9uZ29kYlRva2VuU3RvcmUgZnJvbSAnLi9tb25nb2RiVG9rZW5TdG9yeSc7XG5pbXBvcnQgUmVkaXNUb2tlblN0b3JlIGZyb20gJy4vcmVkaXNUb2tlblN0b3J5JztcblxuY2xhc3MgRmFjdG9yeSB7XG4gIHB1YmxpYyBjcmVhdGVUb2tlblN0b3J5KGNsaWVudDogYW55KSB7XG4gICAgbGV0IG15VG9rZW5TdG9yZTtcbiAgICBjb25zdCB0eXBlID0gY29uZmlnLnRva2VuU3RvcmVUeXBlO1xuXG4gICAgaWYgKHR5cGUgPT09ICdtb25nb2RiJykge1xuICAgICAgbXlUb2tlblN0b3JlID0gbmV3IE1vbmdvZGJUb2tlblN0b3JlKGNsaWVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVkaXMnKSB7XG4gICAgICBteVRva2VuU3RvcmUgPSBuZXcgUmVkaXNUb2tlblN0b3JlKGNsaWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG15VG9rZW5TdG9yZSA9IG5ldyBGaWxlVG9rZW5TdG9yZShjbGllbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBteVRva2VuU3RvcmUudG9rZW5TdG9yZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZ0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFnRCxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUVoRCxNQUFNRyxPQUFPLENBQUM7RUFDTEMsZ0JBQWdCQSxDQUFDQyxNQUFXLEVBQUU7SUFDbkMsSUFBSUMsWUFBWTtJQUNoQixNQUFNQyxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsY0FBYztJQUVsQyxJQUFJRixJQUFJLEtBQUssU0FBUyxFQUFFO01BQ3RCRCxZQUFZLEdBQUcsSUFBSUksMEJBQWlCLENBQUNMLE1BQU0sQ0FBQztJQUM5QyxDQUFDLE1BQU0sSUFBSUUsSUFBSSxLQUFLLE9BQU8sRUFBRTtNQUMzQkQsWUFBWSxHQUFHLElBQUlLLHdCQUFlLENBQUNOLE1BQU0sQ0FBQztJQUM1QyxDQUFDLE1BQU07TUFDTEMsWUFBWSxHQUFHLElBQUlNLHVCQUFjLENBQUNQLE1BQU0sQ0FBQztJQUMzQztJQUVBLE9BQU9DLFlBQVksQ0FBQ08sVUFBVTtFQUNoQztBQUNGO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FFY0MsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==